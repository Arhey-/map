<html>

<head>
	<title>split</title>
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<meta name="color-scheme" content="dark light">
	<link rel="icon" href="icon.svg">
	<style>
		body {
			margin: 0;
			display: flex;
			gap: 1px;
			background-color: #111;
		}

		.col {
			display: flex;
			flex-direction: column;
			flex-grow: 1;
			gap: 1px;
		}

		iframe {
			border: 0;
			flex-grow: 1;
			resize: vertical;
		}
	</style>
</head>

<body>
	<iframe name="v1"></iframe>
	<iframe name="v2"></iframe>
	<script>
		const q = new URL(location).searchParams
		const v1 = q.get('v1') || ''
		const t1 = q.get('v1t') || 'v2'
		document.title += ` - ${v1}`
		frames['v1'].location.href = `/map/?file=${v1}&target=${t1}`

		const v2 = q.get('v2')
		if (v2) {
			const t = q.get('v2t') || ''
			document.title += ` - ${v2}`
			frames['v2'].location.href = `/map/?file=${v2}&target=${t}`
		}

		for (let i = 3; i < 9; i++) {
			const names = q.getAll(`v${i}`)
			if (!names.length) break;
			document.title += ` - ${names}`
			const col = document.createElement('div')
			col.className = 'col'
			for (const n of names) {
				const f = document.createElement('iframe')
				f.name = `v${i}` // don't use target for more than 1 in col
				f.src = '/map/?file=' + n;
				col.append(f)
			}
			document.body.append(col)
		}
	</script>
</body>

</html>